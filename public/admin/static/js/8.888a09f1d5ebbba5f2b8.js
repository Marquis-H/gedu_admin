webpackJsonp([8],{413:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(583),i=a(691),o=a(4);var r=function(t){a(689)},s=Object(o.a)(n.a,i.a,i.b,!1,r,"data-v-6769d0b0",null);e.default=s.exports},447:function(t,e,a){"use strict";var n=a(85),i=a.n(n);e.a={name:"singleImageUpload2",props:{value:String},computed:{imageUrl:function(){return this.value}},data:function(){return{tempUrl:"",action:"https://gedu.qidorg.com/v1/upload/image"}},methods:{rmImage:function(){this.emitInput(""),this.emitValue("")},emitInput:function(t){this.$emit("input",t)},emitValue:function(t){this.$emit("value",t)},handleImageScucess:function(t,e,a){this.tempUrl=e.url,this.emitInput(this.tempUrl),this.emitValue(t.file)},myUpload:function(e){var t=new XMLHttpRequest,a=e.file;t.upload&&(t.upload.onprogress=function(t){0<t.total&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&i()(e.data).map(function(t){n.append(t,e.data[t])}),n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||300<=t.status)return e.onError(function(t,e,a){var n;n=a.response?a.status+(a.response.error||a.response):a.responseText?a.status+a.responseText:"fail to post "+t+a.status;var i=new Error(n);return i.status=a.status,i.method="post",i.url=t,i}(action,0,t));e.onSuccess(function(t){var e=t.responseText||t.response;if(!e)return e;try{var a=JSON.parse(e);return a.data}catch(t){return e}}(t))},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0),t.setRequestHeader("X-File-Name",encodeURIComponent(a.name)),t.setRequestHeader("X-File-Size",a.size),t.send(a)}}}},454:function(t,e,a){"use strict";var n=a(447),i=a(457),o=a(4);var r=function(t){a(455)},s=Object(o.a)(n.a,i.a,i.b,!1,r,"data-v-1bd19ec2",null);e.a=s.exports},455:function(t,e,a){var n=a(456);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(24).default)("883aa9fc",n,!0,{})},456:function(t,e,a){(t.exports=a(19)(!1)).push([t.i,"\n.upload-container[data-v-1bd19ec2] {\n  width: 50%;\n  height: 100%;\n  position: relative;\n}\n.upload-container .image-uploader[data-v-1bd19ec2] {\n    height: 100%;\n}\n.upload-container .image-preview[data-v-1bd19ec2] {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    border: 1px dashed #d9d9d9;\n}\n.upload-container .image-preview .image-preview-wrapper[data-v-1bd19ec2] {\n      position: relative;\n      width: 100%;\n      height: 100%;\n}\n.upload-container .image-preview .image-preview-wrapper img[data-v-1bd19ec2] {\n        width: 100%;\n        height: 100%;\n}\n.upload-container .image-preview .image-preview-action[data-v-1bd19ec2] {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n      cursor: default;\n      text-align: center;\n      color: #fff;\n      opacity: 0;\n      font-size: 20px;\n      background-color: rgba(0, 0, 0, 0.5);\n      transition: opacity 0.3s;\n      cursor: pointer;\n      text-align: center;\n      line-height: 200px;\n}\n.upload-container .image-preview .image-preview-action .el-icon-delete[data-v-1bd19ec2] {\n        font-size: 36px;\n}\n.upload-container .image-preview:hover .image-preview-action[data-v-1bd19ec2] {\n      opacity: 1;\n}\n",""])},457:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"singleImageUpload2 upload-container"},[a("el-upload",{staticClass:"image-uploader",attrs:{drag:"",multiple:!1,"show-file-list":!1,action:t.action,"on-success":t.handleImageScucess,"http-request":t.myUpload}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("Drag或"),a("em",[t._v("点击上传")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0<t.imageUrl.length,expression:"imageUrl.length>0"}],staticClass:"image-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1<t.imageUrl.length,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[a("img",{attrs:{src:t.imageUrl}}),t._v(" "),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-delete",on:{click:t.rmImage}})])])])],1)},i=[]},546:function(t,e,a){"use strict";e.b=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n.a.get("/v1/setting/detail",t)},e.a=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return n.a.post("/v1/setting/create?identify="+e,t)};var n=a(30)},583:function(t,e,a){"use strict";var n=a(20),i=a.n(n),o=a(454),r=a(546),s=a(48);e.a={name:"SettingSystem",components:{Upload:o.a},data:function(){return{image:"",formData:{system_name:"",logo:""},loading:!1,listQuery:{identify:"_system"}}},computed:i()({},Object(s.b)(["setting"])),created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r.b)(this.listQuery).then(function(t){Array.isArray(t.data)||(e.formData=t.data,e.image=e.setting.domain+e.formData.logo),e.loading=!1})},updateValue:function(t){this.formData.logo=t},submit:function(){var e=this;this.$refs.form.validate(function(t){t&&Object(r.a)(e.formData,"_system").then(function(t){e.$notify({title:e.$t("table.success"),message:e.$t("table.create_success_tips"),type:"success",duration:2e3})})})}}}},689:function(t,e,a){var n=a(690);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(24).default)("7f6b5448",n,!0,{})},690:function(t,e,a){(t.exports=a(19)(!1)).push([t.i,"\n.container[data-v-6769d0b0] {\n  position: relative;\n}\n.container .form-main-container[data-v-6769d0b0] {\n    padding: 40px 45px 20px 50px;\n}\n",""])},691:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{ref:"form",staticClass:"form-container",attrs:{model:e.formData}},[a("div",{staticClass:"form-main-container"},[a("el-form-item",{attrs:{"label-width":"80px",label:e.$t("form.system_name")}},[a("el-input",{staticClass:"input",attrs:{type:"text",autosize:"",placeholder:e.$t("form.placeholder_name")},model:{value:e.formData.system_name,callback:function(t){e.$set(e.formData,"system_name",t)},expression:"formData.system_name"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"80px",label:"LOGO"}},[a("Upload",{attrs:{value:e.formData.logo},on:{value:e.updateValue},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:e.submit}},[e._v(e._s(e.$t("form.save")))])],1)])],1)},i=[]}});